macroscript getConversationMessageByFile(
		/** the identifier of the conversation */
		string id,
		/** the owner of the conversation */
		string owner,
		/** the unique identifier of the uploaded file */
		string guid) {
		
	/** Get the list of messages for the conversation */
	var messages = zpServiceStack.list({ owner, stack: id });
	trace("all messages");
	trace(messages);
	var message = null;
	/** Search for message that contains the file identified by the provided guid */
	for msg in messages.result.content {
		var data = msg.data;
		if(data.type==MESSAGE_TYPE_ATTACHMENT && data.value==guid) {
			/** Message that contains the file identified by the provided guid found */
			message = msg;
			break;
		}
	}
} return { message }