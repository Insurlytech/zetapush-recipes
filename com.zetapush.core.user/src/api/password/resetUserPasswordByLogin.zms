macroscript resetUserPasswordByLogin(
	@NotNull string login
) {
	trace(resetUserPasswordByLogin.name, login);
	/** Get user by login */
	const { user } = await getUserByLogin({ login });
//	assert user?? && user.userKey?? ERROR__USER_NOT_FOUND;
	
	if(user ??){
		/** Reset user password */
		sudo user.userKey await core_user__resetUserPasswordByService({
			user,
			zpService: zpServiceSimpleAuth
		});
	}
	else {
		user = null;
	}
	
} broadcast {} on channel __selfName
