macroscript hasRole(
	@NotNull string name,
	boolean assertion = false
) {
	var id = str:hex(str:md5(str:upper(name)));
	/** Is memeber of group role service */
	var response = call zpRecipeGroup::isMemberOfByService({
		id,
		owner: zpRecipeUtils::GLOBAL_OWNER,
		isHardFail: assertion,
		zpService: zpServiceGroupsRole
	});
	/** Destructure response properties */
	var has = response.result.member;
} broadcast { id, name, has } on channel __selfName
